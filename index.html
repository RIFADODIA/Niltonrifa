<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RIFA BRASIL - MRC</title>
<script>
const config = {
  premiumValue: "Xiaomi Redmi 14C",
  ticketValue: 20,
  winningNumber: null,
  reservedGroups: "[1] [2] [3] [4] [5] [6] [7] [8] [9] [10] [11] [12] [13] [14] [15] [16] [17] [18] [19] [20] [21] [22] [23] [24] [25] [26] [27] [28] [29] [30] [31] [32] [33] [34] [35] [36] [37] [38] [39] [40] [41] [42] [43] [44] [45] [46] [47] [48] [49] [50] [51] [52] [53] [54] [55] [56] [57] [58] [59] [60] [61] [62] [63] [64] [65] [66] [67] [68] [69] [70] [71] [72] [73] [74] [75] [76] [77] [78] [79] [80] [81] [82] [83] [84] [85] [86] [87] [88] [89] [90] [91] [92] [93] [94] [95] [96] [97] [98] [99] [00]",
  pixKey: "070.954.695-55 MARIA S√ÉO PEDRO DOS SANTOS DUNDA",
  whatsappNumber: "5575997054600",
  prizeImages: [
    "https://i.ibb.co/8gD4KvFz/Screenshot-2025-08-31-23-04-57-633-com-whatsapp-w4b.png",
    "https://i.ibb.co/2YmztL9K/Screenshot-2025-08-31-23-01-52-623-com-whatsapp-w4b.png",
    "https://i.ibb.co/FLJxP1r2/IMG-20250812-WA0018.jpg"
  ]
};
let selectedGroup = null;
let generatedId = null;
</script>
<style>
* {margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
html, body {width:100%; overflow-x:hidden; background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460); color:white;}
body {overflow-y:auto;}
.container {width:100%; max-width:500px; margin:0 auto; padding:15px; position:relative;}
.container::before {content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#ff6b6b,#ff9e6b);}
.header{text-align:center;margin-bottom:15px;padding-bottom:12px;border-bottom:1px solid rgba(255,255,255,0.1);}
h1{color:#ff6b6b;margin-bottom:6px;font-size:22px;text-transform:uppercase;letter-spacing:1px;font-weight:700;}
.header p{color:#ff9e6b;font-weight:500;font-size:13px;}
.prize-carousel-section {margin-bottom:15px;}
.prize-carousel {width:100%; border-radius:10px; overflow:hidden; box-shadow:0 5px 15px rgba(0,0,0,0.3);}
.prize-carousel-container {display:flex; overflow-x:auto; scroll-snap-type:x mandatory; -webkit-overflow-scrolling:touch;}
.prize-slide {flex:0 0 auto; width:100%; scroll-snap-align:start;}
.prize-img {width:100%; border-radius:8px; display:block;}
.carousel-nav {display:flex; justify-content:center; margin-top:10px; gap:8px;}
.carousel-dot {width:8px; height:8px; border-radius:50%; background: rgba(255,255,255,0.3); cursor:pointer;}
.carousel-dot.active {background:#ff6b6b;}
.welcome-message{background:rgba(30,30,46,0.8);padding:12px;border-radius:10px;margin-bottom:15px;font-size:14px;line-height:1.4;border-left:4px solid #ff6b6b;text-align:center;}
.welcome-message p{margin:0;color:#cdd6f4;}
.button-container {display:flex;gap:8px;justify-content:center;margin-top:10px;flex-wrap:wrap;}
.last-winner-btn {padding:8px 16px;background:linear-gradient(90deg, #ff6b6b, #ff9e6b);color:#fff;font-weight:600;border:none;border-radius:20px;cursor:pointer;transition:all 0.3s;font-size:13px;}
.last-winner-btn:hover {transform:translateY(-2px);}
.prize-info{background:rgba(30,30,46,0.8);padding:12px;border-radius:10px;margin-bottom:15px;text-align:center;border:1px dashed #ff6b6b;}
.prize-info h2{color:#ff9e6b;margin-bottom:6px;font-size:18px;font-weight:700;}
.prize-info p{color:#ff6b6b;font-weight:600;font-size:14px;}
.blocks-container{display:grid;grid-template-columns:repeat(5,1fr);gap:6px;margin-bottom:15px;}
.block{background:rgba(30,30,46,0.8);border:1px solid #ff6b6b;border-radius:8px;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:8px 3px;min-height:60px;cursor:pointer;}
.block-number {font-size:16px;font-weight:bold;margin-bottom:2px;color:#ff6b6b;}
.block-status {font-size:10px;font-weight:bold;margin-top:2px;text-transform:uppercase;}
.block.reserved{background:rgba(74,10,10,0.8);color:#fff;border-color:#ff4081;cursor:not-allowed;}
.block.reserved .block-status {color: #ff9e9e;}
.block.available .block-status {color: #a5d6a7;}
.block.winner{background:rgba(123,31,162,0.8);color:#fff;border-color:#ce93d8;}
.winner-section{background:rgba(30,30,46,0.8);padding:12px;border-radius:10px;margin-top:15px;text-align:center;border-left:4px solid #ff6b6b;}
.winner-section h3{color:#ff9e6b;margin-bottom:8px;font-size:16px;}
.no-winner{font-style:italic;color:#ff9e6b;}
.footer-note{text-align:center;margin-top:15px;color:#ff9e6b;font-size:12px;padding:15px;}
.modal, .confirmation-section {display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(30,30,46,0.95);padding:20px;border-radius:12px;border:2px solid #ff6b6b;z-index:1000;text-align:center;}
.overlay {display: none; position: fixed; top:0; left:0; width:100%; height:100%; background-color: rgba(0,0,0,0.7); z-index:999;}
.reserved-name {font-size:9px;color:#ffcccc;text-align:center;max-width:90%;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;}
</style>
</head>
<body>
<div class="overlay" id="overlay"></div>
<div class="container">
  <div class="header">
    <h1>RIFA RESPONS√ÅVEL MARIA</h1>
    <p>RESULTADO DO JOGO DO BICHO 19h - BA ASSIM QUE ENCHER</p>
  </div>
  <div class="prize-carousel-section">
    <div class="prize-carousel">
      <div class="prize-carousel-container" id="prizeCarousel"></div>
      <div class="carousel-nav" id="carouselNav"></div>
    </div>
  </div>
  <div class="welcome-message">
    <p><strong>Seja bem-vindo!</strong> Clique no n√∫mero que deseja e escolha SIM ou N√ÉO para reservar.</p>
    <div class="button-container">
      <button class="last-winner-btn" id="showWinnerBtn">Clique para ver ganhador</button>
    </div>
  </div>
  <div class="prize-info">
    <h2>Pr√™mio: <span id="premiumValue"></span></h2>
    <p>Valor por cota: R$ <span id="ticketValue"></span>,00</p>
  </div>
  <div class="blocks-container" id="blocksContainer"></div>
  <div class="winner-section">
    <h3>N√∫mero Sorteado</h3>
    <p><strong id="winnerNumber" class="no-winner">Aguardando sorteio...</strong></p>
  </div>
</div>

<div class="confirmation-section" id="confirmationSection">
  <div class="confirmation-message" id="confirmationMessage"></div>
  <div>
    <button class="btn btn-yes" id="btnYes">Sim</button>
    <button class="btn btn-no" id="btnNo">N√£o</button>
  </div>
</div>

<div class="modal" id="winnerModal">
  <div class="modal-content">
    <h2>√öltimo Ganhador</h2>
    <img class="modal-img" src="https://i.ibb.co/2xzJH6f/Picsart-25-08-24-14-33-04-951.jpg" alt="√öltimo ganhador da rifa">
    <button class="close-modal" id="closeModal">Fechar</button>
  </div>
</div>

<div class="footer-note">RIFA MRC ¬© 2025 - Todos os direitos reservados</div>

<script>
function init() {
  document.getElementById("premiumValue").textContent = config.premiumValue;
  document.getElementById("ticketValue").textContent = config.ticketValue;
  generateBlocks();
  updateWinnerDisplay();
  setupPrizeCarousel();

  document.getElementById("btnYes").addEventListener("click", confirmSelection);
  document.getElementById("btnNo").addEventListener("click", cancelSelection);
  document.getElementById("showWinnerBtn").addEventListener("click", showWinner);
  document.getElementById("closeModal").addEventListener("click", closeWinnerModal);
  document.getElementById("overlay").addEventListener("click", () => {
    document.getElementById("confirmationSection").style.display = "none";
    document.getElementById("winnerModal").style.display = "none";
    document.getElementById("overlay").style.display = "none";
  });
  initCarousel();
}

function parseReservedGroups(reservedString) {
  const reservedData = [];
  const regex = /\[\.?([^\]]+)\]/g;
  let match;
  while ((match = regex.exec(reservedString)) !== null) {
    const content = match[1];
    const isReserved = match[0].includes('.');
    if (isReserved) {
      const numberMatch = content.match(/^\d+/);
      let number = numberMatch ? parseInt(numberMatch[0]) : parseInt(content);
      if (number === 0) number = 100;
      if (!isNaN(number) && number >= 1 && number <= 100) {
        const name = content.replace(/^\d+/, '').trim();
        reservedData.push({number: number, name: name || "Reservado"});
      }
    }
  }
  return reservedData;
}

function generateBlocks() {
  const container = document.getElementById("blocksContainer");
  container.innerHTML = "";
  const reservedData = parseReservedGroups(config.reservedGroups);
  for (let i = 1; i <= 100; i++) {
    const block = document.createElement("div");
    block.className = "block";
    block.dataset.block = i;
    const reservedInfo = reservedData.find(item => item.number === i);
    const isReserved = !!reservedInfo;
    const statusElement = `<div class="block-status">${isReserved ? "ESCOLHIDO" : "DISPON√çVEL"}</div>`;
    const nameElement = isReserved ? `<div class="reserved-name">${reservedInfo.name}</div>` : '';
    const displayNumber = i === 100 ? "00" : i;
    block.innerHTML = `<div class="block-number">${displayNumber}</div>${statusElement}${nameElement}`;
    if (isReserved) block.classList.add("reserved");
    else {
      block.classList.add("available");
      block.addEventListener("click", () => {
        selectedGroup = i;
        generatedId = generateRandomId();
        showConfirmation(i, generatedId);
      });
    }
    if (config.winningNumber !== null && config.winningNumber !== "" && i === config.winningNumber) {
      block.classList.add("winner");
      block.classList.remove("reserved");
    }
    container.appendChild(block);
  }
}

function showConfirmation(number, id) {
  const displayNumber = number === 100 ? "00" : number;
  const msg = `Deseja enviar esse n√∫mero para o WhatsApp; junto o ID para Maria; para marcar seu n√∫mero aqui no site?\n\nN√∫mero: ${displayNumber}\nID: ${id}`;
  document.getElementById("confirmationMessage").textContent = msg;
  document.getElementById("overlay").style.display = "block";
  document.getElementById("confirmationSection").style.display = "block";
}

function confirmSelection() {
  if (selectedGroup && generatedId) {
    const idText = `NUMERO-${selectedGroup}-${generatedId}`;
    navigator.clipboard.writeText(idText);
    const message = encodeURIComponent(`OL√Å, GOSTARIA DE RESERVAR O N√öMERO ${selectedGroup}\nMEU ID DE CONFIRMA√á√ÉO √â: ${idText}\n\nCHAVE PIX PARA PAGAMENTO:\n${config.pixKey}\n\nAGUARDANDO O COMPROVANTE üôè ACOMPANHE SITE AQUI: https://mariamrcrf.github.io/mariamrcrf/`);
    window.open(`https://wa.me/${config.whatsappNumber}?text=${message}`, '_blank');
    document.getElementById("confirmationSection").style.display = "none";
    document.getElementById("overlay").style.display = "none";
    selectedGroup = null;
    generatedId = null;
  }
}

function cancelSelection() {
  document.getElementById("confirmationSection").style.display = "none";
  document.getElementById("overlay").style.display = "none";
  selectedGroup = null;
  generatedId = null;
}

function updateWinnerDisplay() {
  const winnerElement = document.getElementById("winnerNumber");
  if (config.winningNumber === null || config.winningNumber === "") {
    winnerElement.textContent = "Aguardando sorteio...";
    winnerElement.className = "no-winner";
    return;
  }
  const displayNumber = config.winningNumber === 100 ? "00" : config.winningNumber;
  winnerElement.textContent = `${displayNumber}`;
  winnerElement.className = "";
}

function generateRandomId(length = 6) {
  const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
  let result = "";
  for (let i = 0; i < length; i++) result += chars.charAt(Math.floor(Math.random() * chars.length));
  return result;
}

function showWinner() {
  document.getElementById('winnerModal').style.display = 'flex';
  document.getElementById("overlay").style.display = "block";
}

function closeWinnerModal() {
  document.getElementById('winnerModal').style.display = 'none';
  document.getElementById("overlay").style.display = "none";
}

function setupPrizeCarousel() {
  const carousel = document.getElementById('prizeCarousel');
  const nav = document.getElementById('carouselNav');
  carousel.innerHTML = '';
  nav.innerHTML = '';
  config.prizeImages.forEach((imgSrc, index) => {
    const slide = document.createElement('div');
    slide.className = 'prize-slide';
    slide.innerHTML = `<img class="prize-img" src="${imgSrc}" alt="Pr√™mio ${index + 1}">`;
    carousel.appendChild(slide);

    const dot = document.createElement('div');
    dot.className = 'carousel-dot' + (index === 0 ? ' active' : '');
    dot.dataset.index = index;
    dot.addEventListener('click', () => {
      carousel.scrollTo({ left: carousel.clientWidth * index, behavior: 'smooth' });
    });
    nav.appendChild(dot);
  });
}

function initCarousel() {
  const carousel = document.getElementById('prizeCarousel');
  carousel.addEventListener('scroll', () => {
    const scrollPos = carousel.scrollLeft;
    const slideWidth = carousel.clientWidth;
    const activeIndex = Math.round(scrollPos / slideWidth);
    document.querySelectorAll('.carousel-dot').forEach((dot, index) => {
      dot.classList.toggle('active', index === activeIndex);
    });
  });
}

document.addEventListener("DOMContentLoaded", init);
</script>
</body>
</html>